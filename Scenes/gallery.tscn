[gd_scene load_steps=11 format=3 uid="uid://bi0pfgl2bnbki"]

[ext_resource type="Script" uid="uid://dpvfedut3c734" path="res://Scripts/gallery_video_list.gd" id="1_s4i5e"]
[ext_resource type="Texture2D" uid="uid://di40xeyrrvlo2" path="res://GFX/title_screen_background_1.png" id="1_tivr1"]
[ext_resource type="Script" uid="uid://u7j7yhvlt8ab" path="res://Scripts/gallery_player.gd" id="2_c4y5e"]
[ext_resource type="VideoStream" uid="uid://bdrtqyl6qu5hp" path="res://Videos/Imagine.ogv" id="2_e6kyq"]
[ext_resource type="PackedScene" uid="uid://bg3s3oi38dg6i" path="res://Scenes/gallery_video_container.tscn" id="2_qynqv"]
[ext_resource type="Texture2D" uid="uid://cgqwctoeujj0x" path="res://GFX/title_screen_background_2.png" id="2_vqeo1"]
[ext_resource type="Texture2D" uid="uid://lx7rxlfco8m8" path="res://GFX/play-button.png" id="3_c4y5e"]
[ext_resource type="Texture2D" uid="uid://bptx2gc680fe3" path="res://GFX/cross.png" id="5_s4i5e"]

[sub_resource type="SpriteFrames" id="SpriteFrames_c056j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_tivr1")
}],
"loop": true,
"name": &"light_high",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_vqeo1")
}],
"loop": true,
"name": &"light_low",
"speed": 5.0
}]

[sub_resource type="LabelSettings" id="LabelSettings_vpk6y"]
font_size = 51

[node name="Gallery" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Background" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_c056j")
animation = &"light_low"
centered = false

[node name="Label" type="Label" parent="."]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -27.5
offset_right = 27.5
offset_bottom = 23.0
grow_horizontal = 2
text = "Gallery"
label_settings = SubResource("LabelSettings_vpk6y")
horizontal_alignment = 1

[node name="ScrollContainer" type="ScrollContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 49.0
offset_top = 90.0
offset_right = -49.0
offset_bottom = -43.0
grow_horizontal = 2
grow_vertical = 2

[node name="GridContainer" type="GridContainer" parent="ScrollContainer" node_paths=PackedStringArray("video_player")]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
columns = 5
script = ExtResource("1_s4i5e")
container_scene = ExtResource("2_qynqv")
video_player = NodePath("../../Player")

[node name="BackButton" type="Button" parent="."]
layout_mode = 0
offset_left = 28.0
offset_top = 16.0
offset_right = 133.0
offset_bottom = 57.0
text = "Back"

[node name="Player" type="Panel" parent="." node_paths=PackedStringArray("vid_player", "play_pause_button", "progress_bar")]
modulate = Color(1, 1, 1, 0)
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("2_c4y5e")
vid_player = NodePath("VideoStreamPlayer")
play_pause_button = NodePath("PlayPauseButton")
progress_bar = NodePath("ProgressBar")

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="Player"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 251.0
offset_top = 14.0
offset_right = -251.0
offset_bottom = -122.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
stream = ExtResource("2_e6kyq")
expand = true
bus = &"Gallery"

[node name="PlayPauseButton" type="Button" parent="Player"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -46.5
offset_top = -105.0
offset_right = 46.5
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 0
icon = ExtResource("3_c4y5e")
expand_icon = true

[node name="ProgressBar" type="HSlider" parent="Player"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -119.0
offset_bottom = -103.0
grow_horizontal = 2
grow_vertical = 0
focus_neighbor_top = NodePath("../CloseButton")
focus_neighbor_bottom = NodePath("../PlayPauseButton")

[node name="CloseButton" type="Button" parent="Player"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -95.0
offset_top = 22.0
offset_right = -23.0
offset_bottom = 94.0
grow_horizontal = 0
focus_neighbor_bottom = NodePath("../ProgressBar")
icon = ExtResource("5_s4i5e")
expand_icon = true

[connection signal="pressed" from="BackButton" to="Player" method="_on_back_button_pressed"]
[connection signal="pressed" from="Player/PlayPauseButton" to="Player" method="_on_play_pause_button_pressed"]
[connection signal="drag_ended" from="Player/ProgressBar" to="Player" method="_on_progress_bar_drag_ended"]
[connection signal="drag_started" from="Player/ProgressBar" to="Player" method="_on_progress_bar_drag_started"]
[connection signal="pressed" from="Player/CloseButton" to="Player" method="_on_close_button_pressed"]
